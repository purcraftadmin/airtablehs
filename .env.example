# ── Database ─────────────────────────────────────────────────────────────────
DATABASE_URL=postgresql+asyncpg://wcinv:wcinv@db:5432/wcinv

# ── WooCommerce Sites ────────────────────────────────────────────────────────
# JSON array: one object per WooCommerce site.
# site_id must be unique and stable (used as FK in DB).
SITES='[
  {"site_id":"site1","base_url":"https://shop1.example.com","wc_key":"ck_AAAA","wc_secret":"cs_AAAA"},
  {"site_id":"site2","base_url":"https://shop2.example.com","wc_key":"ck_BBBB","wc_secret":"cs_BBBB"},
  {"site_id":"site3","base_url":"https://shop3.example.com","wc_key":"ck_CCCC","wc_secret":"cs_CCCC"},
  {"site_id":"site4","base_url":"https://shop4.example.com","wc_key":"ck_DDDD","wc_secret":"cs_DDDD"}
]'

# ── Webhook Security ─────────────────────────────────────────────────────────
# WooCommerce signs webhooks with HMAC-SHA256 using this secret.
# Generate with: openssl rand -hex 32
WEBHOOK_SHARED_SECRET=changeme_generate_with_openssl_rand_hex_32

# Alternative: Bearer token (set this OR WEBHOOK_SHARED_SECRET, not both).
# If set, this takes precedence over HMAC verification.
# WEBHOOK_BEARER_TOKEN=

# ── Behaviour ────────────────────────────────────────────────────────────────
# Only decrement stock when an order reaches this status.
DECREMENT_STATUS=processing

# ── Propagation Worker ───────────────────────────────────────────────────────
PROPAGATION_MAX_RETRIES=5
PROPAGATION_RETRY_BASE_SECONDS=2.0

# ── Airtable (optional) ──────────────────────────────────────────────────────
# Leave blank to disable Airtable integration entirely.
# AIRTABLE_API_KEY=patXXXXXXXXXXXXXX.YYYYYYYYYYYYYYYY
# AIRTABLE_BASE_ID=appXXXXXXXXXXXXXX
# AIRTABLE_TABLES_JSON='{"stock":"tblSTOCK","events":"tblEVENTS"}'
